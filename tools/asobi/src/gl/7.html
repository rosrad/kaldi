<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>three.js demo</title>
  <style>
    body {
      margin: 0px;
      overflow: hidden;
    }
    .canvas-container {
      float: left;
      margin: 20px;
      width: 480px;
      height: 360px;
    }
  </style>
</head>
<body>
  <div id="a" class="canvas-container"></div>
  <div id="b" class="canvas-container"></div>
  <script src="three.js"></script>
  <script>
    (function () {
        var renderer, camera, scene, mesh, init, animate;

        init = function () {
            var container = document.querySelector('#a');
            var width = container.clientWidth;
            var height = container.clientHeight;
            renderer = new THREE.WebGLRenderer({
                antialias : true
            });
            renderer.setSize(width, height);
            renderer.setClearColor(0x000000, 1.0);
            container.appendChild(renderer.domElement);

            camera = new THREE.PerspectiveCamera(70,
                width / height, 1, 1000);
            camera.position.z = 400;

            scene = new THREE.Scene();

            var light = new THREE.DirectionalLight(0xFF0000, 1.0);
            light.position.set(-300, 0, 300);
            scene.add(light);

            var light2 = new THREE.PointLight(0xFFFF00, 1.0, 1000);
            light2.position.set(300, 0, 300);
            scene.add(light2);

            var geometry = new THREE.BoxGeometry(200, 200, 200);

            var material = new THREE.MeshLambertMaterial({
                color: 0xFFFFFF
            });

            mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);
        };

        animate = function () {
            mesh.rotation.y += 0.01;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        init();
        animate();
    }());

    (function () {
        var renderer, camera, scene, mesh, init, animate;

        init = function () {
            var container = document.querySelector('#b');
            var width = container.clientWidth;
            var height = container.clientHeight;
            renderer = new THREE.WebGLRenderer({
                antialias : true
            });
            renderer.setSize(width, height);
            renderer.setClearColor(0x123456, 1.0);
            container.appendChild(renderer.domElement);

            camera = new THREE.PerspectiveCamera(70,
                width / height, 1, 1000);
            camera.position.z = 400;

            scene = new THREE.Scene();

            var light = new THREE.DirectionalLight(0xFF0000, 1.0);
            light.position.set(-300, 0, 300);
            scene.add(light);

            var light2 = new THREE.PointLight(0xFFFF00, 1.0, 1000);
            light2.position.set(300, 0, 300);
            scene.add(light2);

            var geometry = new THREE.BoxGeometry(200, 200, 200);

            var canvasA = document.querySelector('#a canvas');
            texture = new THREE.Texture(canvasA);
            texture.needsUpdate = true;
            texture.anisotropy = renderer.getMaxAnisotropy();

            var material = new THREE.MeshLambertMaterial({
                map: texture
            });

            mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);
        };

        animate = function () {
            mesh.rotation.y += 0.01;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        init();
        animate();
    }());
  </script>
</body>
</html>
